# 🚀 待办事项后端服务 - 快速启动指南

## 一键启动步骤

### 1️⃣ 环境准备
确保已安装 Python 3.8+ 版本

### 2️⃣ 进入项目目录
```bash
cd "作业3：待办事项应用开发-前后端版/backend"
```

### 3️⃣ 创建并激活虚拟环境
```bash
# 创建虚拟环境
python -m venv venv

# 激活虚拟环境 (Windows)
venv\Scripts\activate

# 激活虚拟环境 (macOS/Linux)
source venv/bin/activate
```

### 4️⃣ 安装依赖
```bash
pip install fastapi uvicorn sqlalchemy aiosqlite
```

### 5️⃣ 初始化数据库
```bash
python init_db.py
```

### 6️⃣ 启动服务器
```bash
python run_server.py
```

## ✅ 验证服务

启动成功后，访问以下地址：

- **API服务**: http://localhost:8000
- **API文档**: http://localhost:8000/docs (推荐)
- **健康检查**: http://localhost:8000/health

## 🎯 快速测试

### 使用浏览器测试
访问 http://localhost:8000/docs 进行交互式API测试

### 使用curl测试
```bash
# 获取所有待办事项
curl http://localhost:8000/api/v1/todos

# 创建新的待办事项
curl -X POST http://localhost:8000/api/v1/todos -H "Content-Type: application/json" -d "{\"title\":\"测试任务\",\"description\":\"这是一个测试任务\"}"
```

## 🛑 停止服务

在运行服务器的终端中按 `Ctrl+C` 停止服务

## 📝 开发注意事项

1. **虚拟环境**: 每次开发前记得激活虚拟环境
2. **数据持久化**: 数据存储在 `todos.db` 文件中
3. **API文档**: 代码更改后API文档会自动更新
4. **CORS配置**: 已配置允许前端访问

## 🔧 常见问题

**问题**: 端口8000被占用  
**解决**: 修改 `run_server.py` 中的端口号

**问题**: 虚拟环境激活失败  
**解决**: 重新创建虚拟环境

**问题**: 数据库文件权限问题  
**解决**: 确保对当前目录有写权限

---

**恭喜！** 🎉 后端服务已成功运行，可以开始前端开发了！
